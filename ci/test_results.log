==========Running Baseline Tests...==========
CONFIGS=-DPERF_ENABLE
Running: CONFIGS="-DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 473 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=72863
PERF: core0: icache read misses=119 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=23831
PERF: core0: dcache writes=4162
PERF: core0: dcache read misses=405 (hit ratio=98%)
PERF: core0: dcache write misses=1096 (hit ratio=73%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: memory requests=4583 (reads=376, writes=4207)
PERF: memory latency=16 cycles
PERF: instrs=289655, cycles=160643, IPC=1.803098
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
===========l1 cache disable=============
CONFIGS=-DL1_DISABLE
Running: CONFIGS="-DL1_DISABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 460 ms
Download destination buffer
Verify result
PASSED!
PERF: instrs=289659, cycles=387618, IPC=0.747280
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
===========l1 cache size test===========
CONFIGS=-DICACHE_SIZE=8192 -DDCACHE_SIZE=8192 -DPERF_ENABLE
Running: CONFIGS="-DICACHE_SIZE=8192 -DDCACHE_SIZE=8192 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 349 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=72863
PERF: core0: icache read misses=119 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=23831
PERF: core0: dcache writes=4162
PERF: core0: dcache read misses=660 (hit ratio=97%)
PERF: core0: dcache write misses=1436 (hit ratio=65%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: memory requests=4773 (reads=566, writes=4207)
PERF: memory latency=15 cycles
PERF: instrs=289655, cycles=164001, IPC=1.766178
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DICACHE_SIZE=32768 -DDCACHE_SIZE=32768 -DPERF_ENABLE
Running: CONFIGS="-DICACHE_SIZE=32768 -DDCACHE_SIZE=32768 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 351 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=72863
PERF: core0: icache read misses=119 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=23831
PERF: core0: dcache writes=4162
PERF: core0: dcache read misses=352 (hit ratio=98%)
PERF: core0: dcache write misses=1080 (hit ratio=74%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: memory requests=4544 (reads=337, writes=4207)
PERF: memory latency=15 cycles
PERF: instrs=289655, cycles=161156, IPC=1.797358
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
===========l2 cache size test=============
CONFIGS=-DL2_CACHE_SIZE=524288 -DL2_ENABLE -DNUM_CORES=4 -DPERF_ENABLE
Running: CONFIGS="-DL2_CACHE_SIZE=524288 -DL2_ENABLE -DNUM_CORES=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 472 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77179
PERF: core0: icache read misses=194 (hit ratio=99%)
PERF: core0: icache mshr stalls=4417 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1453 (hit ratio=94%)
PERF: core0: dcache write misses=3723 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=96292, IPC=0.782879
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77178
PERF: core1: icache read misses=194 (hit ratio=99%)
PERF: core1: icache mshr stalls=4417 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1453 (hit ratio=94%)
PERF: core1: dcache write misses=3723 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=96277, IPC=0.783001
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77185
PERF: core2: icache read misses=194 (hit ratio=99%)
PERF: core2: icache mshr stalls=4417 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1453 (hit ratio=94%)
PERF: core2: dcache write misses=3723 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=96314, IPC=0.782700
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77179
PERF: core3: icache read misses=194 (hit ratio=99%)
PERF: core3: icache mshr stalls=4417 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1453 (hit ratio=94%)
PERF: core3: dcache write misses=3723 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=96279, IPC=0.782985
PERF: l2cache reads=1191
PERF: l2cache writes=6664
PERF: l2cache read misses=311 (hit ratio=73%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7162 (reads=314, writes=6848)
PERF: memory latency=36 cycles
PERF: instrs=301540, cycles=96314, IPC=3.130801
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL2_ENABLE -DNUM_CORES=4 -DPERF_ENABLE
Running: CONFIGS="-DL2_ENABLE -DNUM_CORES=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 676 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77180
PERF: core0: icache read misses=197 (hit ratio=99%)
PERF: core0: icache mshr stalls=4051 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1405 (hit ratio=94%)
PERF: core0: dcache write misses=3721 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=104108, IPC=0.724104
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77180
PERF: core1: icache read misses=197 (hit ratio=99%)
PERF: core1: icache mshr stalls=4051 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1405 (hit ratio=94%)
PERF: core1: dcache write misses=3721 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=104110, IPC=0.724090
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77180
PERF: core2: icache read misses=197 (hit ratio=99%)
PERF: core2: icache mshr stalls=4051 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1405 (hit ratio=94%)
PERF: core2: dcache write misses=3721 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=104107, IPC=0.724111
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77180
PERF: core3: icache read misses=197 (hit ratio=99%)
PERF: core3: icache mshr stalls=4051 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1405 (hit ratio=94%)
PERF: core3: dcache write misses=3721 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=104109, IPC=0.724097
PERF: l2cache reads=1194
PERF: l2cache writes=6664
PERF: l2cache read misses=284 (hit ratio=76%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7135 (reads=287, writes=6848)
PERF: memory latency=36 cycles
PERF: instrs=301540, cycles=104110, IPC=2.896360
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL2_CACHE_SIZE=2097152 -DL2_ENABLE -DNUM_CORES=4 -DPERF_ENABLE
Running: CONFIGS="-DL2_CACHE_SIZE=2097152 -DL2_ENABLE -DNUM_CORES=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 496 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77180
PERF: core0: icache read misses=203 (hit ratio=99%)
PERF: core0: icache mshr stalls=4378 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1506 (hit ratio=93%)
PERF: core0: dcache write misses=3721 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=120792, IPC=0.624089
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77180
PERF: core1: icache read misses=203 (hit ratio=99%)
PERF: core1: icache mshr stalls=4378 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1506 (hit ratio=93%)
PERF: core1: dcache write misses=3721 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=120789, IPC=0.624105
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77180
PERF: core2: icache read misses=203 (hit ratio=99%)
PERF: core2: icache mshr stalls=4378 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1506 (hit ratio=93%)
PERF: core2: dcache write misses=3721 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=120791, IPC=0.624094
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77180
PERF: core3: icache read misses=203 (hit ratio=99%)
PERF: core3: icache mshr stalls=4378 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1506 (hit ratio=93%)
PERF: core3: dcache write misses=3721 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=120790, IPC=0.624100
PERF: l2cache reads=1202
PERF: l2cache writes=6664
PERF: l2cache read misses=284 (hit ratio=76%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7135 (reads=287, writes=6848)
PERF: memory latency=32 cycles
PERF: instrs=301540, cycles=120792, IPC=2.496357
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
===========l3 cache size test=========
CONFIGS=-DL3_CACHE_SIZE=524288 -DL3_ENABLE -DNUM_CLUSTERS=4 -DPERF_ENABLE
Running: CONFIGS="-DL3_CACHE_SIZE=524288 -DL3_ENABLE -DNUM_CLUSTERS=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 442 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=342 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=54459, IPC=1.384216
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=338 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=54460, IPC=1.384190
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=122 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=351 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=54510, IPC=1.382921
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=123 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=354 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=54516, IPC=1.382768
PERF: l3cache reads=1258
PERF: l3cache writes=6664
PERF: l3cache read misses=679 (hit ratio=46%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7190 (reads=346, writes=6844)
PERF: memory latency=29 cycles
PERF: instrs=301532, cycles=54516, IPC=5.531074
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL3_ENABLE -DNUM_CLUSTERS=4 -DPERF_ENABLE
Running: CONFIGS="-DL3_ENABLE -DNUM_CLUSTERS=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 836 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=349 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=56933, IPC=1.324065
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=357 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=56935, IPC=1.324019
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=124 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=349 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=56934, IPC=1.324042
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=124 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=352 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=56932, IPC=1.324088
PERF: l3cache reads=1292
PERF: l3cache writes=6664
PERF: l3cache read misses=653 (hit ratio=49%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7151 (reads=307, writes=6844)
PERF: memory latency=32 cycles
PERF: instrs=301532, cycles=56935, IPC=5.296074
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL3_CACHE_SIZE=2097152 -DL3_ENABLE -DNUM_CLUSTERS=4 -DPERF_ENABLE
Running: CONFIGS="-DL3_CACHE_SIZE=2097152 -DL3_ENABLE -DNUM_CLUSTERS=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 621 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=353 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=61288, IPC=1.229980
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=355 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=61287, IPC=1.230000
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=124 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=348 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=61289, IPC=1.229960
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=124 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=346 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=61326, IPC=1.229218
PERF: l3cache reads=1292
PERF: l3cache writes=6664
PERF: l3cache read misses=627 (hit ratio=51%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7131 (reads=287, writes=6844)
PERF: memory latency=32 cycles
PERF: instrs=301532, cycles=61326, IPC=4.916871
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
==========l1 cache ways===========
CONFIGS=-DICACHE_NUM_WAYS=2 -DDCACHE_NUM_WAYS=2 -DPERF_ENABLE
Running: CONFIGS="-DICACHE_NUM_WAYS=2 -DDCACHE_NUM_WAYS=2 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 374 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=72863
PERF: core0: icache read misses=119 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=23831
PERF: core0: dcache writes=4162
PERF: core0: dcache read misses=399 (hit ratio=98%)
PERF: core0: dcache write misses=1096 (hit ratio=73%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: memory requests=4577 (reads=370, writes=4207)
PERF: memory latency=16 cycles
PERF: instrs=289655, cycles=160600, IPC=1.803580
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DICACHE_NUM_WAYS=4 -DDCACHE_NUM_WAYS=4 -DPERF_ENABLE
Running: CONFIGS="-DICACHE_NUM_WAYS=4 -DDCACHE_NUM_WAYS=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 380 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=72863
PERF: core0: icache read misses=119 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=23831
PERF: core0: dcache writes=4162
PERF: core0: dcache read misses=379 (hit ratio=98%)
PERF: core0: dcache write misses=1080 (hit ratio=74%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: memory requests=4561 (reads=354, writes=4207)
PERF: memory latency=16 cycles
PERF: instrs=289655, cycles=160440, IPC=1.805379
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
============l2 cache ways=============
CONFIGS=-DL2_ENABLE -DNUM_CORES=4 -DL2_NUM_WAYS=1 -DPERF_ENABLE
Running: CONFIGS="-DL2_ENABLE -DNUM_CORES=4 -DL2_NUM_WAYS=1 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 526 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77180
PERF: core0: icache read misses=197 (hit ratio=99%)
PERF: core0: icache mshr stalls=4051 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1405 (hit ratio=94%)
PERF: core0: dcache write misses=3721 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=104108, IPC=0.724104
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77180
PERF: core1: icache read misses=197 (hit ratio=99%)
PERF: core1: icache mshr stalls=4051 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1405 (hit ratio=94%)
PERF: core1: dcache write misses=3721 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=104110, IPC=0.724090
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77180
PERF: core2: icache read misses=197 (hit ratio=99%)
PERF: core2: icache mshr stalls=4051 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1405 (hit ratio=94%)
PERF: core2: dcache write misses=3721 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=104107, IPC=0.724111
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77180
PERF: core3: icache read misses=197 (hit ratio=99%)
PERF: core3: icache mshr stalls=4051 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1405 (hit ratio=94%)
PERF: core3: dcache write misses=3721 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=104109, IPC=0.724097
PERF: l2cache reads=1194
PERF: l2cache writes=6664
PERF: l2cache read misses=284 (hit ratio=76%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7135 (reads=287, writes=6848)
PERF: memory latency=36 cycles
PERF: instrs=301540, cycles=104110, IPC=2.896360
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL2_ENABLE -DNUM_CORES=4 -DPERF_ENABLE
Running: CONFIGS="-DL2_ENABLE -DNUM_CORES=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 928 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77180
PERF: core0: icache read misses=197 (hit ratio=99%)
PERF: core0: icache mshr stalls=4051 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1405 (hit ratio=94%)
PERF: core0: dcache write misses=3721 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=104108, IPC=0.724104
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77180
PERF: core1: icache read misses=197 (hit ratio=99%)
PERF: core1: icache mshr stalls=4051 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1405 (hit ratio=94%)
PERF: core1: dcache write misses=3721 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=104110, IPC=0.724090
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77180
PERF: core2: icache read misses=197 (hit ratio=99%)
PERF: core2: icache mshr stalls=4051 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1405 (hit ratio=94%)
PERF: core2: dcache write misses=3721 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=104107, IPC=0.724111
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77180
PERF: core3: icache read misses=197 (hit ratio=99%)
PERF: core3: icache mshr stalls=4051 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1405 (hit ratio=94%)
PERF: core3: dcache write misses=3721 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=104109, IPC=0.724097
PERF: l2cache reads=1194
PERF: l2cache writes=6664
PERF: l2cache read misses=284 (hit ratio=76%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7135 (reads=287, writes=6848)
PERF: memory latency=36 cycles
PERF: instrs=301540, cycles=104110, IPC=2.896360
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL2_ENABLE -DNUM_CORES=4 -DL2_NUM_WAYS=4 -DPERF_ENABLE
Running: CONFIGS="-DL2_ENABLE -DNUM_CORES=4 -DL2_NUM_WAYS=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 494 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77180
PERF: core0: icache read misses=195 (hit ratio=99%)
PERF: core0: icache mshr stalls=4047 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1505 (hit ratio=93%)
PERF: core0: dcache write misses=3723 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=104318, IPC=0.722646
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77180
PERF: core1: icache read misses=195 (hit ratio=99%)
PERF: core1: icache mshr stalls=4047 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1505 (hit ratio=93%)
PERF: core1: dcache write misses=3723 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=104319, IPC=0.722639
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77180
PERF: core2: icache read misses=195 (hit ratio=99%)
PERF: core2: icache mshr stalls=4047 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1505 (hit ratio=93%)
PERF: core2: dcache write misses=3723 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=104295, IPC=0.722806
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77180
PERF: core3: icache read misses=195 (hit ratio=99%)
PERF: core3: icache mshr stalls=4047 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1505 (hit ratio=93%)
PERF: core3: dcache write misses=3723 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=104296, IPC=0.722799
PERF: l2cache reads=1192
PERF: l2cache writes=6664
PERF: l2cache read misses=306 (hit ratio=74%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7157 (reads=309, writes=6848)
PERF: memory latency=37 cycles
PERF: instrs=301540, cycles=104319, IPC=2.890557
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL2_ENABLE -DNUM_CORES=4 -DL2_NUM_WAYS=8 -DPERF_ENABLE
Running: CONFIGS="-DL2_ENABLE -DNUM_CORES=4 -DL2_NUM_WAYS=8 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 786 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77180
PERF: core0: icache read misses=202 (hit ratio=99%)
PERF: core0: icache mshr stalls=4039 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1410 (hit ratio=94%)
PERF: core0: dcache write misses=3721 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=104232, IPC=0.723242
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77180
PERF: core1: icache read misses=202 (hit ratio=99%)
PERF: core1: icache mshr stalls=4039 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1410 (hit ratio=94%)
PERF: core1: dcache write misses=3721 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=104233, IPC=0.723235
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77180
PERF: core2: icache read misses=202 (hit ratio=99%)
PERF: core2: icache mshr stalls=4039 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1410 (hit ratio=94%)
PERF: core2: dcache write misses=3721 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=104231, IPC=0.723249
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77180
PERF: core3: icache read misses=202 (hit ratio=99%)
PERF: core3: icache mshr stalls=4039 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1410 (hit ratio=94%)
PERF: core3: dcache write misses=3721 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=104234, IPC=0.723229
PERF: l2cache reads=1195
PERF: l2cache writes=6664
PERF: l2cache read misses=327 (hit ratio=72%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7178 (reads=330, writes=6848)
PERF: memory latency=35 cycles
PERF: instrs=301540, cycles=104234, IPC=2.892914
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
============l3 cache ways===========
CONFIGS=-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_NUM_WAYS=2 -DPERF_ENABLE
Running: CONFIGS="-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_NUM_WAYS=2 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 448 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=348 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=56933, IPC=1.324065
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=359 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=56935, IPC=1.324019
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=124 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=350 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=56934, IPC=1.324042
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=124 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=350 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=56932, IPC=1.324088
PERF: l3cache reads=1294
PERF: l3cache writes=6664
PERF: l3cache read misses=633 (hit ratio=51%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7131 (reads=287, writes=6844)
PERF: memory latency=32 cycles
PERF: instrs=301532, cycles=56935, IPC=5.296074
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL3_ENABLE -DNUM_CLUSTERS=4 -DPERF_ENABLE
Running: CONFIGS="-DL3_ENABLE -DNUM_CLUSTERS=4 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 566 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=349 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=56933, IPC=1.324065
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=357 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=56935, IPC=1.324019
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=124 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=349 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=56934, IPC=1.324042
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=124 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=352 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=56932, IPC=1.324088
PERF: l3cache reads=1292
PERF: l3cache writes=6664
PERF: l3cache read misses=653 (hit ratio=49%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7151 (reads=307, writes=6844)
PERF: memory latency=32 cycles
PERF: instrs=301532, cycles=56935, IPC=5.296074
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_NUM_WAYS=8 -DPERF_ENABLE
Running: CONFIGS="-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_NUM_WAYS=8 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 516 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=349 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=56933, IPC=1.324065
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=358 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=56935, IPC=1.324019
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=124 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=351 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=56934, IPC=1.324042
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=124 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=352 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=56932, IPC=1.324088
PERF: l3cache reads=1296
PERF: l3cache writes=6664
PERF: l3cache read misses=691 (hit ratio=46%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7191 (reads=347, writes=6844)
PERF: memory latency=31 cycles
PERF: instrs=301532, cycles=56935, IPC=5.296074
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_NUM_WAYS=16 -DPERF_ENABLE
Running: CONFIGS="-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_NUM_WAYS=16 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 526 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=349 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=56933, IPC=1.324065
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=358 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=56935, IPC=1.324019
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=124 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=349 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=56934, IPC=1.324042
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=124 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=351 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=56932, IPC=1.324088
PERF: l3cache reads=1296
PERF: l3cache writes=6664
PERF: l3cache read misses=696 (hit ratio=46%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7195 (reads=351, writes=6844)
PERF: memory latency=31 cycles
PERF: instrs=301532, cycles=56935, IPC=5.296074
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
============l1 mreqsize==============
CONFIGS=-DICACHE_MREQ_SIZE=2 -DDCACHE_MREQ_SIZE=2 -DPERF_ENABLE
Running: CONFIGS="-DICACHE_MREQ_SIZE=2 -DDCACHE_MREQ_SIZE=2 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 288 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=72863
PERF: core0: icache read misses=119 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=23831
PERF: core0: dcache writes=4162
PERF: core0: dcache read misses=405 (hit ratio=98%)
PERF: core0: dcache write misses=1096 (hit ratio=73%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: memory requests=4583 (reads=376, writes=4207)
PERF: memory latency=16 cycles
PERF: instrs=289655, cycles=160643, IPC=1.803098
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DICACHE_MREQ_SIZE=8 -DDCACHE_MREQ_SIZE=8 -DPERF_ENABLE
Running: CONFIGS="-DICACHE_MREQ_SIZE=8 -DDCACHE_MREQ_SIZE=8 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 380 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=72863
PERF: core0: icache read misses=119 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=23831
PERF: core0: dcache writes=4162
PERF: core0: dcache read misses=405 (hit ratio=98%)
PERF: core0: dcache write misses=1096 (hit ratio=73%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: memory requests=4583 (reads=376, writes=4207)
PERF: memory latency=16 cycles
PERF: instrs=289655, cycles=160643, IPC=1.803098
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DICACHE_MREQ_SIZE=16 -DDCACHE_MREQ_SIZE=16 -DPERF_ENABLE
Running: CONFIGS="-DICACHE_MREQ_SIZE=16 -DDCACHE_MREQ_SIZE=16 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 310 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=72863
PERF: core0: icache read misses=119 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=23831
PERF: core0: dcache writes=4162
PERF: core0: dcache read misses=405 (hit ratio=98%)
PERF: core0: dcache write misses=1096 (hit ratio=73%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: memory requests=4583 (reads=376, writes=4207)
PERF: memory latency=16 cycles
PERF: instrs=289655, cycles=160643, IPC=1.803098
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
============l2 mreqsize=============
CONFIGS=-DL2_ENABLE -DNUM_CORES=4 -DL2_MREQ_SIZE=2 -DPERF_ENABLE
Running: CONFIGS="-DL2_ENABLE -DNUM_CORES=4 -DL2_MREQ_SIZE=2 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 689 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77180
PERF: core0: icache read misses=197 (hit ratio=99%)
PERF: core0: icache mshr stalls=4051 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1405 (hit ratio=94%)
PERF: core0: dcache write misses=3721 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=104108, IPC=0.724104
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77180
PERF: core1: icache read misses=197 (hit ratio=99%)
PERF: core1: icache mshr stalls=4051 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1405 (hit ratio=94%)
PERF: core1: dcache write misses=3721 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=104110, IPC=0.724090
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77180
PERF: core2: icache read misses=197 (hit ratio=99%)
PERF: core2: icache mshr stalls=4051 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1405 (hit ratio=94%)
PERF: core2: dcache write misses=3721 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=104107, IPC=0.724111
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77180
PERF: core3: icache read misses=197 (hit ratio=99%)
PERF: core3: icache mshr stalls=4051 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1405 (hit ratio=94%)
PERF: core3: dcache write misses=3721 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=104109, IPC=0.724097
PERF: l2cache reads=1194
PERF: l2cache writes=6664
PERF: l2cache read misses=284 (hit ratio=76%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7135 (reads=287, writes=6848)
PERF: memory latency=36 cycles
PERF: instrs=301540, cycles=104110, IPC=2.896360
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL2_ENABLE -DNUM_CORES=4 -DL2_MREQ_SIZE=8 -DPERF_ENABLE
Running: CONFIGS="-DL2_ENABLE -DNUM_CORES=4 -DL2_MREQ_SIZE=8 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 623 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77180
PERF: core0: icache read misses=197 (hit ratio=99%)
PERF: core0: icache mshr stalls=4051 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1405 (hit ratio=94%)
PERF: core0: dcache write misses=3721 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=104108, IPC=0.724104
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77180
PERF: core1: icache read misses=197 (hit ratio=99%)
PERF: core1: icache mshr stalls=4051 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1405 (hit ratio=94%)
PERF: core1: dcache write misses=3721 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=104110, IPC=0.724090
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77180
PERF: core2: icache read misses=197 (hit ratio=99%)
PERF: core2: icache mshr stalls=4051 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1405 (hit ratio=94%)
PERF: core2: dcache write misses=3721 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=104107, IPC=0.724111
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77180
PERF: core3: icache read misses=197 (hit ratio=99%)
PERF: core3: icache mshr stalls=4051 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1405 (hit ratio=94%)
PERF: core3: dcache write misses=3721 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=104109, IPC=0.724097
PERF: l2cache reads=1194
PERF: l2cache writes=6664
PERF: l2cache read misses=284 (hit ratio=76%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7135 (reads=287, writes=6848)
PERF: memory latency=36 cycles
PERF: instrs=301540, cycles=104110, IPC=2.896360
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL2_ENABLE -DNUM_CORES=4 -DL2_MREQ_SIZE=16 -DPERF_ENABLE
Running: CONFIGS="-DL2_ENABLE -DNUM_CORES=4 -DL2_MREQ_SIZE=16 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=4, num_clusters=1, socket_size=4, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 526 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=77180
PERF: core0: icache read misses=197 (hit ratio=99%)
PERF: core0: icache mshr stalls=4051 (utilization=4%)
PERF: core0: dcache reads=24668
PERF: core0: dcache writes=6664
PERF: core0: dcache read misses=1405 (hit ratio=94%)
PERF: core0: dcache write misses=3721 (hit ratio=44%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75385, cycles=104108, IPC=0.724104
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=77180
PERF: core1: icache read misses=197 (hit ratio=99%)
PERF: core1: icache mshr stalls=4051 (utilization=4%)
PERF: core1: dcache reads=24668
PERF: core1: dcache writes=6664
PERF: core1: dcache read misses=1405 (hit ratio=94%)
PERF: core1: dcache write misses=3721 (hit ratio=44%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75385, cycles=104110, IPC=0.724090
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=77180
PERF: core2: icache read misses=197 (hit ratio=99%)
PERF: core2: icache mshr stalls=4051 (utilization=4%)
PERF: core2: dcache reads=24668
PERF: core2: dcache writes=6664
PERF: core2: dcache read misses=1405 (hit ratio=94%)
PERF: core2: dcache write misses=3721 (hit ratio=44%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75385, cycles=104107, IPC=0.724111
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=77180
PERF: core3: icache read misses=197 (hit ratio=99%)
PERF: core3: icache mshr stalls=4051 (utilization=4%)
PERF: core3: dcache reads=24668
PERF: core3: dcache writes=6664
PERF: core3: dcache read misses=1405 (hit ratio=94%)
PERF: core3: dcache write misses=3721 (hit ratio=44%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75385, cycles=104109, IPC=0.724097
PERF: l2cache reads=1194
PERF: l2cache writes=6664
PERF: l2cache read misses=284 (hit ratio=76%)
PERF: l2cache write misses=3140 (hit ratio=52%)
PERF: l2cache bank stalls=0 (utilization=100%)
PERF: l2cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7135 (reads=287, writes=6848)
PERF: memory latency=36 cycles
PERF: instrs=301540, cycles=104110, IPC=2.896360
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
==========l3 mreqsize=============
CONFIGS=-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_MREQ_SIZE=2 -DPERF_ENABLE
Running: CONFIGS="-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_MREQ_SIZE=2 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 430 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=349 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=56933, IPC=1.324065
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=357 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=56935, IPC=1.324019
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=124 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=349 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=56934, IPC=1.324042
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=124 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=352 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=56932, IPC=1.324088
PERF: l3cache reads=1292
PERF: l3cache writes=6664
PERF: l3cache read misses=653 (hit ratio=49%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7151 (reads=307, writes=6844)
PERF: memory latency=32 cycles
PERF: instrs=301532, cycles=56935, IPC=5.296074
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_MREQ_SIZE=8 -DPERF_ENABLE
Running: CONFIGS="-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_MREQ_SIZE=8 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 521 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=349 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=56933, IPC=1.324065
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=357 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=56935, IPC=1.324019
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=124 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=349 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=56934, IPC=1.324042
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=124 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=352 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=56932, IPC=1.324088
PERF: l3cache reads=1292
PERF: l3cache writes=6664
PERF: l3cache read misses=653 (hit ratio=49%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7151 (reads=307, writes=6844)
PERF: memory latency=32 cycles
PERF: instrs=301532, cycles=56935, IPC=5.296074
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_MREQ_SIZE=16 -DPERF_ENABLE
Running: CONFIGS="-DL3_ENABLE -DNUM_CLUSTERS=4 -DL3_MREQ_SIZE=16 -DPERF_ENABLE" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=4, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 508 ms
Download destination buffer
Verify result
PASSED!
PERF: core0: lmem reads=0
PERF: core0: lmem writes=0
PERF: core0: lmem bank stalls=0 (utilization=0%)
PERF: core0: icache reads=19295
PERF: core0: icache read misses=124 (hit ratio=99%)
PERF: core0: icache mshr stalls=0 (utilization=100%)
PERF: core0: dcache reads=6167
PERF: core0: dcache writes=1666
PERF: core0: dcache read misses=349 (hit ratio=94%)
PERF: core0: dcache write misses=904 (hit ratio=45%)
PERF: core0: dcache bank stalls=0 (utilization=100%)
PERF: core0: dcache mshr stalls=0 (utilization=100%)
PERF: core0: instrs=75383, cycles=56933, IPC=1.324065
PERF: core1: lmem reads=0
PERF: core1: lmem writes=0
PERF: core1: lmem bank stalls=0 (utilization=0%)
PERF: core1: icache reads=19295
PERF: core1: icache read misses=124 (hit ratio=99%)
PERF: core1: icache mshr stalls=0 (utilization=100%)
PERF: core1: dcache reads=6167
PERF: core1: dcache writes=1666
PERF: core1: dcache read misses=357 (hit ratio=94%)
PERF: core1: dcache write misses=904 (hit ratio=45%)
PERF: core1: dcache bank stalls=0 (utilization=100%)
PERF: core1: dcache mshr stalls=0 (utilization=100%)
PERF: core1: instrs=75383, cycles=56935, IPC=1.324019
PERF: core2: lmem reads=0
PERF: core2: lmem writes=0
PERF: core2: lmem bank stalls=0 (utilization=0%)
PERF: core2: icache reads=19295
PERF: core2: icache read misses=124 (hit ratio=99%)
PERF: core2: icache mshr stalls=0 (utilization=100%)
PERF: core2: dcache reads=6167
PERF: core2: dcache writes=1666
PERF: core2: dcache read misses=349 (hit ratio=94%)
PERF: core2: dcache write misses=904 (hit ratio=45%)
PERF: core2: dcache bank stalls=0 (utilization=100%)
PERF: core2: dcache mshr stalls=0 (utilization=100%)
PERF: core2: instrs=75383, cycles=56934, IPC=1.324042
PERF: core3: lmem reads=0
PERF: core3: lmem writes=0
PERF: core3: lmem bank stalls=0 (utilization=0%)
PERF: core3: icache reads=19295
PERF: core3: icache read misses=124 (hit ratio=99%)
PERF: core3: icache mshr stalls=0 (utilization=100%)
PERF: core3: dcache reads=6167
PERF: core3: dcache writes=1666
PERF: core3: dcache read misses=352 (hit ratio=94%)
PERF: core3: dcache write misses=904 (hit ratio=45%)
PERF: core3: dcache bank stalls=0 (utilization=100%)
PERF: core3: dcache mshr stalls=0 (utilization=100%)
PERF: core3: instrs=75383, cycles=56932, IPC=1.324088
PERF: l3cache reads=1292
PERF: l3cache writes=6664
PERF: l3cache read misses=653 (hit ratio=49%)
PERF: l3cache write misses=3140 (hit ratio=52%)
PERF: l3cache bank stalls=0 (utilization=100%)
PERF: l3cache mshr stalls=0 (utilization=100%)
PERF: memory requests=7151 (reads=307, writes=6844)
PERF: memory latency=32 cycles
PERF: instrs=301532, cycles=56935, IPC=5.296074
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
============tc_size===============
CONFIGS=-DTC_SIZE=4
Running: CONFIGS="-DTC_SIZE=4" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 290 ms
Download destination buffer
Verify result
PASSED!
PERF: instrs=289655, cycles=160643, IPC=1.803098
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
CONFIGS=-DTC_SIZE=16
Running: CONFIGS="-DTC_SIZE=16" make -C ./ci/../runtime/simx > /dev/null
Running: make -C ./ci/../tests/opencl/sgemm run-simx
make: Entering directory '/home/pend/vortex/build/tests/opencl/sgemm'
LD_LIBRARY_PATH=/home/pend/tools/pocl/lib:/home/pend/vortex/build/runtime:/home/pend/tools/llvm-vortex/lib: POCL_VORTEX_XLEN=32 LLVM_PREFIX=/home/pend/tools/llvm-vortex POCL_VORTEX_BINTOOL="OBJCOPY=/home/pend/tools/llvm-vortex/bin/llvm-objcopy /home/pend/vortex/kernel/scripts/vxbin.py" POCL_VORTEX_CFLAGS="-march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany --sysroot=/home/pend/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/pend/tools/riscv32-gnu-toolchain -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/pend/vortex/build/hw -I/home/pend/vortex/kernel/include -DXLEN_32 -DNDEBUG -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all" POCL_VORTEX_LDFLAGS="-Wl,-Bstatic,--gc-sections,-T/home/pend/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/pend/vortex/build/kernel/libvortex.a -L/home/pend/tools/libc32/lib -lm -lc /home/pend/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a" VORTEX_DRIVER=simx ./sgemm -n32
Workload size=32
CONFIGS: num_threads=4, num_warps=4, num_cores=1, num_clusters=1, socket_size=1, local_mem_base=0xffff0000, num_barriers=2
Create context
Create program from kernel source
Upload source buffers
Execute the kernel
Elapsed time: 285 ms
Download destination buffer
Verify result
PASSED!
PERF: instrs=289655, cycles=160643, IPC=1.803098
make: Leaving directory '/home/pend/vortex/build/tests/opencl/sgemm'
